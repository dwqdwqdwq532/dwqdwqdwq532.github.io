var count=0;var pageUrl=window.location.href;var isZelle=pageUrl.indexOf("/transfers/")>-1;var isABPA=pageUrl.indexOf("/apply-credit-cards/")>-1||pageUrl.indexOf("/apply-deposits/")>-1||pageUrl.indexOf("/apply-consumer-deposits/")>-1||pageUrl.indexOf("/credit-cards/")>-1||pageUrl.indexOf("/business-financing/")>-1||pageUrl.indexOf("/business-lending/")>-1||pageUrl.indexOf("/applynow/")>-1||pageUrl.indexOf("/deposits/")>-1;var counter=0;var callOptionB=function(env,cookie,vendorUrl){var lleUrl=window.location.host.indexOf("helix.ecnp")>-1?true:false;var lleOptionBCdnUrl="";var prodOptionBCdnUrl="";var scriptTagOptionB=document.createElement("script");if(lleUrl){lleOptionBCdnUrl=vendorUrl}else{prodOptionBCdnUrl=vendorUrl}var context="";if(isABPA){context="account-opening"}else{context="move-money"}if(env==="prod"){scriptTagOptionB.setAttribute("src",prodOptionBCdnUrl)}else{scriptTagOptionB.setAttribute("src",lleOptionBCdnUrl)}document.getElementsByTagName("head")[0].appendChild(scriptTagOptionB);scriptTagOptionB.onload=function(){cdApi.setCustomerSessionId(cookie);cdApi.changeContext(context)};scriptTagOptionB.onerror=function(){uiLoggerCall("BehBio SDK is not loaded due to web SDK error")}};var callForBForAOMoveMoney=function(flow){var csidCookie="";var ahvcCookie="";document.cookie.split("; ").forEach(function(row){if(row.startsWith("CSID=")){csidCookie=row}if(row.startsWith("AHVC=")){ahvcCookie=row}});if(csidCookie&&ahvcCookie){var csidCookieValue=csidCookie.split(":")[0].split("CSID=")[1];var optionBAssetUrl=ahvcCookie.split(":")[3]+":"+ahvcCookie.split(":")[4];var isLleUrl=window.location.host.indexOf("helix.ecnp")>-1?true:false;if(flow==="both"){if(isLleUrl){callOptionB("lle",csidCookieValue,optionBAssetUrl)}else{callOptionB("prod",csidCookieValue,optionBAssetUrl)}}else if(flow==="moveMoney"){if(isZelle){if(isLleUrl){callOptionB("lle",csidCookieValue,optionBAssetUrl)}else{callOptionB("prod",csidCookieValue,optionBAssetUrl)}}}else if(flow==="ao"){if(isABPA){if(isLleUrl){callOptionB("lle",csidCookieValue,optionBAssetUrl)}else{callOptionB("prod",csidCookieValue,optionBAssetUrl)}}}}else{uiLoggerCall("BehBio SDK is not loaded due to cookie")}};var loadVendBehBio=function(){var csidCookie="";var ahvcCookie="";document.cookie.split("; ").forEach(function(row){if(row.startsWith("CSID=")){csidCookie=row}if(row.startsWith("AHVC=")){ahvcCookie=row}});if(csidCookie&&ahvcCookie){var csidCookieVendorSelector=ahvcCookie.split(":")[0].split("AHVC=")[1];if(csidCookieVendorSelector==="3-3"||csidCookieVendorSelector==="3-7"||csidCookieVendorSelector==="7-3"||csidCookieVendorSelector==="7-7"||csidCookieVendorSelector==="0-3"||csidCookieVendorSelector==="0-7"||csidCookieVendorSelector==="4-3"||csidCookieVendorSelector==="4-7"||csidCookieVendorSelector==="2-3"||csidCookieVendorSelector==="2-7"||csidCookieVendorSelector==="6-3"||csidCookieVendorSelector==="6-7"||csidCookieVendorSelector==="1-3"||csidCookieVendorSelector==="1-7"||csidCookieVendorSelector==="5-3"||csidCookieVendorSelector==="5-7"){callForBForAOMoveMoney("both")}else if(csidCookieVendorSelector==="0-0"||csidCookieVendorSelector==="3-0"||csidCookieVendorSelector==="3-4"||csidCookieVendorSelector==="7-0"||csidCookieVendorSelector==="7-4"||csidCookieVendorSelector==="1-0"||csidCookieVendorSelector==="1-4"||csidCookieVendorSelector==="5-0"||csidCookieVendorSelector==="5-4"||csidCookieVendorSelector==="2-0"||csidCookieVendorSelector==="2-4"||csidCookieVendorSelector==="6-0"||csidCookieVendorSelector==="6-4"){}else if(csidCookieVendorSelector==="0-1"||csidCookieVendorSelector==="0-5"||csidCookieVendorSelector==="4-1"||csidCookieVendorSelector==="4-5"||csidCookieVendorSelector==="1-1"||csidCookieVendorSelector==="1-5"||csidCookieVendorSelector==="5-1"||csidCookieVendorSelector==="5-5"||csidCookieVendorSelector==="2-1"||csidCookieVendorSelector==="2-5"||csidCookieVendorSelector==="6-1"||csidCookieVendorSelector==="6-5"||csidCookieVendorSelector==="3-1"||csidCookieVendorSelector==="3-5"||csidCookieVendorSelector==="7-1"||csidCookieVendorSelector==="7-5"){callForBForAOMoveMoney("ao")}else if(csidCookieVendorSelector==="0-2"||csidCookieVendorSelector==="0-6"||csidCookieVendorSelector==="4-2"||csidCookieVendorSelector==="4-6"||csidCookieVendorSelector==="1-2"||csidCookieVendorSelector==="1-6"||csidCookieVendorSelector==="5-2"||csidCookieVendorSelector==="5-6"||csidCookieVendorSelector==="2-2"||csidCookieVendorSelector==="2-6"||csidCookieVendorSelector==="6-2"||csidCookieVendorSelector==="6-6"||csidCookieVendorSelector==="3-2"||csidCookieVendorSelector==="3-6"||csidCookieVendorSelector==="7-2"||csidCookieVendorSelector==="7-6"){callForBForAOMoveMoney("moveMoney")}}else{uiLoggerCall("BehBio SDK is not loaded due to cookie")}};var uiLoggerCall=function(error){var uiLoggerLocation=window.location.host;var uiLoggerUrl="";if(uiLoggerLocation.indexOf("secure")>-1){uiLoggerUrl="https://"+uiLoggerLocation+"/login/rest/sas/sparta/ui/event/log"}else{var unsecureUrlLocation=uiLoggerLocation.replace("www","secure");uiLoggerUrl="https://"+unsecureUrlLocation+"/login/rest/sas/sparta/ui/event/log"}var request=new XMLHttpRequest;request.open("POST",uiLoggerUrl,true);request.setRequestHeader("Content-type","application/json");request.setRequestHeader("accept","application/json");request.setRequestHeader("cache-control","no-cache");var params={application:window.location.href,errorType:navigator.userAgent,errorLog:error};request.send(JSON.stringify(params))};var checkWebSdk=function(){if(typeof cdApi==="object"){}else if(typeof cdApi==="undefined"){uiLoggerCall("BehBio SDK is not loaded in "+counter+" seconds");if(counter<10){window.setTimeout(function(){checkWebSdk()},1000);counter=counter+1}}};loadVendBehBio();checkWebSdk();
//# sourceMappingURL=./auth.js.map